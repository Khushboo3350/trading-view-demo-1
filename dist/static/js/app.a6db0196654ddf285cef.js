webpackJsonp([2],{IuFh:function(t,e,n){(function(t){"use strict";var e=Object.assign||function(t){for(var e,n=arguments,s=1,o=arguments.length;s<o;s++)for(var i in e=n[s])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function n(t,s){var o=e({},t);for(var i in s)"object"!=typeof t[i]||null===t[i]||Array.isArray(t[i])?void 0!==s[i]&&(o[i]=s[i]):o[i]=n(t[i],s[i]);return o}var s={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},o={width:800,height:500,symbol:"AA",interval:"D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};function i(){return"1.14 (internal id aaac22e2 @ 2019-04-04 08:31:56.077488)"}var r=function(){function t(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=n(o,t),t.preset){var e=s[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then(function(){return t._innerWindow().headerReady()})},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,n){this._innerAPI().changeSymbol(t,e+"",n)},t.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,n,s){this._innerAPI().saveChartToServer(t,e,n,s)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=n(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t){this._innerWindow().changeTheme(t)},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},t.prototype._create=function(){var t=this,e=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=e,this._iFrame=n.querySelector("#"+this._id);var s=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(s.style.width="100%",this._options.fullscreen||(s.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(function(t){var e=function(){s.removeEventListener("load",e,!1),t()};s.addEventListener("load",e,!1)}),this._innerWindowLoaded.then(function(){t._innerWindow().widgetReady(function(){t._ready=!0;for(var e=0,n=t._readyHandlers;e<n.length;e++){var s=n[e];try{s.call(t)}catch(t){console.error(t)}}t._innerWindow().initializationFinished()})})},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||"")+"static/"+this._options.locale+"-tv-chart.aaac22e21df68f2f7bad.html#symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+e+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=i,t.version=i,t.widget=r,Object.defineProperty(t,"__esModule",{value:!0})})(e)},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o={name:"App",components:{TradeView:n("vVp7").default}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("trade-view")],1)},staticRenderFns:[]},r=n("VU/8")(o,i,!1,null,null,null).exports,a={template:"<p>Page not found</p>"},u={"/":function(t){return new Promise(function(t){t()}).then(function(){var e=[n("vVp7")];t.apply(null,e)}.bind(this)).catch(n.oe)},"/udf":function(t){return n.e(0).then(function(){var e=[n("iZzF")];t.apply(null,e)}.bind(this)).catch(n.oe)}};s.a.config.productionTip=!1,new s.a({el:"#app",data:{currentRoute:window.location.pathname},components:{App:r},computed:{ViewComponent:function(){return u[this.currentRoute]||a}},render:function(t){return t(this.ViewComponent)}})},fkX4:function(t,e){},htVh:function(t,e,n){"use strict";var s=n("//Fk"),o=n.n(s),i=n("mvHQ"),r=n.n(i),a=n("Zrlr"),u=n.n(a),h=n("wxAW"),c=n.n(h),l=n("xe4/"),d=n.n(l),p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wss://okexcomreal.bafang.com:10442/ws/v3",n=arguments[1];u()(this,t),this.heartBeatTimer=null,this.options=n,this.messageMap={},this.connState=0,this.socket=null,this.url=e}return c()(t,[{key:"doOpen",value:function(){var t=this;if(!this.connState){this.connState=1,this.afterOpenEmit=[];var e=new(window.WebSocket||window.MozWebSocket)(this.url);e.binaryType="arraybuffer",e.onopen=function(e){return t.onOpen(e)},e.onclose=function(e){return t.onClose(e)},e.onmessage=function(e){return t.onMessage(e.data)},e.onerror=function(e){return t.onError(e)},this.socket=e}}},{key:"onOpen",value:function(t){this.connState=2,this.heartBeatTimer=setInterval(this.checkHeartbeat.bind(this),2e4),this.onReceiver({Event:"open"})}},{key:"checkOpen",value:function(){return 2===this.connState}},{key:"onClose",value:function(){this.connState=0,this.connState&&this.onReceiver({Event:"close"})}},{key:"send",value:function(t){this.socket.send(r()(t))}},{key:"emit",value:function(t){var e=this;return new o.a(function(n){e.socket.send(r()(t)),e.on("message",function(t){n(t)})})}},{key:"onMessage",value:function(t){t=d.a.inflateRaw(t,{to:"string"});try{var e=JSON.parse(t);this.onReceiver({Event:"message",Data:e})}catch(t){console.error(" >> Data parsing error:",t)}}},{key:"checkHeartbeat",value:function(){var t={cmd:"ping",args:[Date.parse(new Date)]};this.send(t)}},{key:"onError",value:function(t){}},{key:"onReceiver",value:function(t){var e=this.messageMap[t.Event];e&&e(t.Data)}},{key:"on",value:function(t,e){this.messageMap[t]=e}},{key:"doClose",value:function(){this.socket.close()}},{key:"destroy",value:function(){this.heartBeatTimer&&(clearInterval(this.heartBeatTimer),this.heartBeatTimer=null),this.doClose(),this.messageMap={},this.connState=0,this.socket=null}}]),t}();e.a=p},hyxC:function(t,e,n){"use strict";var s=n("woOf"),o=n.n(s),i=n("//Fk"),r=n.n(i),a=n("Zrlr"),u=n.n(a),h=n("wxAW"),c=n.n(h),l=function(){function t(e){u()(this,t),this.subscribers={},this.requestsPending=0,this.historyProvider=e}return c()(t,[{key:"subscribeBars",value:function(t,e,n,s){this.subscribers[s]={lastBarTime:null,listener:n,resolution:e,symbolInfo:t}}},{key:"unsubscribeBars",value:function(t){delete this.subscribers[t]}},{key:"updateData",value:function(){var t=this;if(!this.requestsPending)for(var e in this.requestsPending=0,this.subscribers)this.requestsPending++,this.updateDataForSubscriber(e).then(function(){return t.requestsPending--}).catch(function(){return t.requestsPending--})}},{key:"updateDataForSubscriber",value:function(t){var e=this;return new r.a(function(n,s){var o=e.subscribers[t],i=parseInt((Date.now()/1e3).toString()),r=i-e.periodLengthSeconds(o.resolution,10);e.historyProvider.getBars(o.symbolInfo,o.resolution,r,i,function(s){e.onSubscriberDataReceived(t,s),n()},function(){s()})})}},{key:"onSubscriberDataReceived",value:function(t,e){if(this.subscribers.hasOwnProperty(t)&&e.length){var n=e[e.length-1],s=this.subscribers[t];if(!(null!==s.lastBarTime&&n.time<s.lastBarTime)){if(null!==s.lastBarTime&&n.time>s.lastBarTime){if(e.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");var o=e[e.length-2];s.listener(o)}s.lastBarTime=n.time,s.listener(n)}}}},{key:"periodLengthSeconds",value:function(t,e){return 24*("D"===t||"1D"===t?e:"M"===t||"1M"===t?31*e:"W"===t||"1W"===t?7*e:e*parseInt(t)/1440)*60*60}}]),t}(),d=function(){function t(e){u()(this,t),this.self=e,this.barsUpdater=new l(this)}return c()(t,[{key:"onReady",value:function(t){var e=this;return new r.a(function(t,n){var s=e.defaultConfiguration();e.self.getConfig&&(s=o()(e.defaultConfiguration(),e.self.getConfig())),t(s)}).then(function(e){return t(e)})}},{key:"resolveSymbol",value:function(t,e,n){var s=this;return new r.a(function(t,e){var n=s.defaultSymbol();s.self.getSymbol&&(n=o()(s.defaultSymbol(),s.self.getSymbol())),t(n)}).then(function(t){return e(t)}).catch(function(t){return n(t)})}},{key:"getBars",value:function(t,e,n,s,o,i){this.self.getBars(t,e,n,s,function(t){t&&t.length?o(t,{noData:!0}):o([],{noData:!0})})}},{key:"subscribeBars",value:function(t,e,n,s,o){this.barsUpdater.subscribeBars(t,e,n,s,o)}},{key:"unsubscribeBars",value:function(t){this.barsUpdater.unsubscribeBars(t)}},{key:"defaultConfiguration",value:function(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0}}},{key:"defaultSymbol",value:function(){return{name:"BTCUSDT",timezone:"Asia/Shanghai",minmov:1,minmov2:0,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:"BTCUSDT",pricescale:1,ticker:"BTCUSDT",supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"]}}}]),t}();e.a=d},uslO:function(t,e,n){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function o(t){return n(i(t))}function i(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(s)},o.resolve=i,t.exports=o,o.id="uslO"},vVp7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("IuFh"),o=n("htVh"),i=n("hyxC"),r=n("PJh5"),a=n.n(r),u=n("mtWM"),h=n.n(u),c={data:function(){return{widget:null,socket:new o.a,datafeeds:new i.a(this),symbol:"BTC-USDT",interval:5,initData:{},cacheData:{},lastTime:null,getBarTimer:null,isLoading:!0}},created:function(){var t=this;h.a.defaults.baseURL="/okex",h.a.get("/v2/spot/instruments/"+this.symbol+"/candles",{params:{granularity:""+this.toSecond(this.interval),size:1e3}}).then(function(e){var n=e.data.data;console.log(n);var s=[],o=t.symbol+"-"+t.interval;n.forEach(function(t){s.push({time:parseInt(a()(t[0]).format("x")),open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5]})},t),console.log(s),t.cacheData[o]=s})},mounted:function(){this.init()},methods:{init:function(){this.widget||(this.widget=new s.widget({symbol:this.symbol,interval:this.interval,width:1180,height:600,container_id:"trade-view",datafeed:this.datafeeds,library_path:"/static/tradeview/charting_library/",disabled_features:["save_chart_properties_to_local_storage","volume_force_overlay","header_saveload","header_symbol_search","header_chart_type","header_compare","header_undo_redo","header_indicators","timeframes_toolbar","countdown"],enabled_features:["study_templates"],theme:"Dark",toolbar_bg:"#121d32",timezone:"Asia/Shanghai",locale:"zh"}))},sendMessage:function(t){var e=this;this.socket.checkOpen()?this.socket.send(t):this.socket.on("open",function(){e.socket.send(t)})},unSubscribe:function(t){this.sendMessage({op:"unsubscribe",args:this.getArgs(t)})},subscribe:function(){this.sendMessage({op:"subscribe",args:this.getArgs()})},onMessage:function(t){if(console.log(t),t.data&&t.data.length){var e=[],n=this.symbol+"-"+this.interval;null!==this.initData&&(this.initData.forEach(function(t){e.push({time:parseInt(a()(t[0]).format("x")),open:t[1],high:t[2],low:t[3],close:t[4],volume:t[5]})},this),this.initData=null),t.data.forEach(function(t){e.push({time:parseInt(a()(t.candle[0]).format("x")),open:t.candle[1],high:t.candle[2],low:t.candle[3],close:t.candle[4],volume:t.candle[5]})},this),this.cacheData[n]=e,this.lastTime=e[e.length-1].time,this.subscribe()}},getBars:function(t,e,n,s,o){var i=this.symbol+"-"+this.interval;if(this.cacheData[i]&&this.cacheData[i].length){this.isLoading=!1;var r=[];this.cacheData[i].forEach(function(t){t.time>=1e3*n&&t.time<=1e3*s&&r.push(t)}),o(r)}else{var a=this;this.getBarTimer=setTimeout(function(){a.getBars(t,e,n,s,o)},10)}},getArgs:function(t){return t=t||this.interval,["index/candle"+this.toSecond(t)+"s:"+this.symbol]},toSecond:function(t){if(-1!==(t=t.toString()).indexOf("D")){var e=t.toString().split("D")[0];return 24*parseInt(e)*60*60}if(-1!==t.indexOf("W")){var n=t.toString().split("W")[0];return 7*parseInt(n)*24*60*60}return 60*parseInt(t)},getConfig:function(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","3","5","15","30","60","120","240","360","720","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0}},getSymbol:function(){return{name:"BTC-USD",timezone:"Asia/Shanghai",minmov:1,minmov2:0,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:"BTC-USD",pricescale:1,ticker:"BTC-USD",supported_resolutions:["1","3","5","15","30","60","120","240","360","720","1D","1W"]}}}},l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"trade-view"}})},staticRenderFns:[]};var d=n("VU/8")(c,l,!1,function(t){n("fkX4")},"data-v-6594454c",null);e.default=d.exports}},["NHnr"]);
//# sourceMappingURL=app.a6db0196654ddf285cef.js.map